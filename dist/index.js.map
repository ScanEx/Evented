{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["export default class Evented {\r\n    constructor() {\r\n        this.listeners = {};\r\n    }\r\n    addEventListener(type, callback) {\r\n        if(!(type in this.listeners)) {\r\n            this.listeners[type] = [];\r\n        }\r\n        this.listeners[type].push(callback);\r\n    }\r\n    on(type, callback) {\r\n        this.addEventListener(type, callback);\r\n        return this;\r\n    }\r\n    removeEventListener (type, callback) {\r\n        if(!(type in this.listeners)) {\r\n            return;\r\n        }\r\n        let stack = this.listeners[type];\r\n        for(let i = 0, l = stack.length; i < l; i++) {\r\n            if(stack[i] === callback){\r\n                stack.splice(i, 1);\r\n                return this.removeEventListener(type, callback);\r\n            }\r\n        }\r\n    }\r\n    off(type, callback) {\r\n        this.removeEventListener(type, callback);\r\n        return this;\r\n    }\r\n    dispatchEvent(event) {\r\n        if(!(event.type in this.listeners)) {\r\n            return;\r\n        }\r\n        let stack = this.listeners[event.type];\r\n\t    Object.defineProperty(event, 'target', {\r\n            enumerable: false,\r\n            configurable: false,\r\n            writable: false,\r\n            value: this\r\n        });\r\n        for(let i = 0, l = stack.length; i < l; i++) {\r\n            stack[i].call(this, event);\r\n        }\r\n    }\r\n};"],"names":["Evented","constructor","listeners","addEventListener","type","callback","push","on","removeEventListener","stack","i","l","length","splice","off","dispatchEvent","event","Object","defineProperty","enumerable","configurable","writable","value","call"],"mappings":";;AAAe,MAAMA,OAAN,CAAc;AACzBC,EAAAA,WAAW,GAAG;AACV,SAAKC,SAAL,GAAiB,EAAjB;AACH;;AACDC,EAAAA,gBAAgB,CAACC,IAAD,EAAOC,QAAP,EAAiB;AAC7B,QAAG,EAAED,IAAI,IAAI,KAAKF,SAAf,CAAH,EAA8B;AAC1B,WAAKA,SAAL,CAAeE,IAAf,IAAuB,EAAvB;AACH;;AACD,SAAKF,SAAL,CAAeE,IAAf,EAAqBE,IAArB,CAA0BD,QAA1B;AACH;;AACDE,EAAAA,EAAE,CAACH,IAAD,EAAOC,QAAP,EAAiB;AACf,SAAKF,gBAAL,CAAsBC,IAAtB,EAA4BC,QAA5B;AACA,WAAO,IAAP;AACH;;AACDG,EAAAA,mBAAmB,CAAEJ,IAAF,EAAQC,QAAR,EAAkB;AACjC,QAAG,EAAED,IAAI,IAAI,KAAKF,SAAf,CAAH,EAA8B;AAC1B;AACH;;AACD,QAAIO,KAAK,GAAG,KAAKP,SAAL,CAAeE,IAAf,CAAZ;;AACA,SAAI,IAAIM,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,KAAK,CAACG,MAAzB,EAAiCF,CAAC,GAAGC,CAArC,EAAwCD,CAAC,EAAzC,EAA6C;AACzC,UAAGD,KAAK,CAACC,CAAD,CAAL,KAAaL,QAAhB,EAAyB;AACrBI,QAAAA,KAAK,CAACI,MAAN,CAAaH,CAAb,EAAgB,CAAhB;AACA,eAAO,KAAKF,mBAAL,CAAyBJ,IAAzB,EAA+BC,QAA/B,CAAP;AACH;AACJ;AACJ;;AACDS,EAAAA,GAAG,CAACV,IAAD,EAAOC,QAAP,EAAiB;AAChB,SAAKG,mBAAL,CAAyBJ,IAAzB,EAA+BC,QAA/B;AACA,WAAO,IAAP;AACH;;AACDU,EAAAA,aAAa,CAACC,KAAD,EAAQ;AACjB,QAAG,EAAEA,KAAK,CAACZ,IAAN,IAAc,KAAKF,SAArB,CAAH,EAAoC;AAChC;AACH;;AACD,QAAIO,KAAK,GAAG,KAAKP,SAAL,CAAec,KAAK,CAACZ,IAArB,CAAZ;AACHa,IAAAA,MAAM,CAACC,cAAP,CAAsBF,KAAtB,EAA6B,QAA7B,EAAuC;AAChCG,MAAAA,UAAU,EAAE,KADoB;AAEhCC,MAAAA,YAAY,EAAE,KAFkB;AAGhCC,MAAAA,QAAQ,EAAE,KAHsB;AAIhCC,MAAAA,KAAK,EAAE;AAJyB,KAAvC;;AAMG,SAAI,IAAIZ,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAGF,KAAK,CAACG,MAAzB,EAAiCF,CAAC,GAAGC,CAArC,EAAwCD,CAAC,EAAzC,EAA6C;AACzCD,MAAAA,KAAK,CAACC,CAAD,CAAL,CAASa,IAAT,CAAc,IAAd,EAAoBP,KAApB;AACH;AACJ;;AA5CwB;;;;"}